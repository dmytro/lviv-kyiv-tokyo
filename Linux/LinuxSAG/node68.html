<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.1 release (February 19th, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Використання своп╕н╜у</TITLE>
<META NAME="description" CONTENT="Використання своп╕н╜у">
<META NAME="keywords" CONTENT="linux,ukrainian,guide,sag">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL="STYLESHEET" HREF="sag.css">
<LINK REL="next" HREF="node69.html">
<LINK REL="previous" HREF="node67.html">
<LINK REL="up" HREF="node65.html">
<LINK REL="next" HREF="node69.html">
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<!--Navigation Panel-->
<A NAME="tex2html1325"
 HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="next_motif.gif"></A> 
<A NAME="tex2html1321"
 HREF="node65.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="up_motif.gif"></A> 
<A NAME="tex2html1315"
 HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="previous_motif.gif"></A> 
<A NAME="tex2html1323"
 HREF="node7.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="contents_motif.gif"></A> 
<A NAME="tex2html1324"
 HREF="node120.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index"
 SRC="index_motif.gif"></A> 
<BR>
<B> Дал╕:</B> <A NAME="tex2html1326"
 HREF="node69.html">Сп╕льне використання простору своп╕н╜у</A>
<B> Вгору:</B> <A NAME="tex2html1322"
 HREF="node65.html">Керування пам'яттю</A>
<B> Назад:</B> <A NAME="tex2html1316"
 HREF="node67.html">Створення простору для своп╕н╜у</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00730000000000000000">
Використання своп╕н╜у</A>
</H1>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">П╕дготований для використання прост╕р своп╕н╜у можна привести
	в д╕ю командою <TT>swapon</TT><A NAME="4741">&#160;</A>. Ця команда каже ядру, що
	своп-прост╕р можна використовувати. Параметром до команди
	да╓ться маршрут, вказуючий яким простором саме
	користуватись. Отже, для того, щоб почати своп╕н╜ на
	тимчасовому файл╕, можна скористуватися такою командою:
		</FONT></FONT><BLOCKQUOTE><FONT SIZE="+1"><FONT SIZE="+1">
<TT>
<code>$</code> <I>swapon /extra-swap</I> <BR>
<code>$</code>
		</TT></FONT></FONT></BLOCKQUOTE>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Розд╕ли ╕ файли для своп╕н╜у будуть п╕дключатися 
	автоматично при старт╕ системи, якщо вони вказан╕ в файл╕
	<TT>/etc/fstab</TT><A NAME="4743">&#160;</A>.
		</FONT></FONT><BLOCKQUOTE><FONT SIZE="+1"><FONT SIZE="+1">
<TT>
<code>/dev/hda8        none        swap        sw     0     0</code> <BR>
<code>/swapfile        none        swap        sw     0     0</code>
		</TT></FONT></FONT></BLOCKQUOTE>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Стартовий скрипт викона╓ команду <TT>swapon -a</TT>, яка почне
	своп╕н╜ на вс╕х файлах ╕ розд╕лах своп╕н╜у, вказаних в
	<TT>/etc/fstab</TT><A NAME="4745">&#160;</A>. Отже, командою <TT>swapon</TT><A NAME="4747">&#160;</A> потр╕бно
	користуватися т╕льки тод╕, коли виника╓ потреба в додатковому
	простор╕ для своп╕н╜у.
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Просл╕дкувати за використанням своп-простору можна за
	допомогою команди <TT>free</TT><A NAME="4749">&#160;</A>. Вона скаже ск╕льки всього
	використову╓ться своп-пам'ят╕. 
		</FONT></FONT><BLOCKQUOTE><FONT SIZE="+1"><FONT SIZE="+1">
<TT>
<code>$</code> <I>free</I> <BR>
<code>             total       used       free     shared    buffers</code> <BR>
<code>Mem:         15152      14896        256      12404       2528</code> <BR>
<code>-/+ buffers:            12368       2784</code> <BR>
<code>Swap:        32452       6684      25768</code> <BR>
<code>$</code>
		</TT></FONT></FONT></BLOCKQUOTE><FONT SIZE="+1"><FONT SIZE="+1">
	
	Перший рядок (<code>Mem:</code>) показу╓ ск╕льки ╓ ф╕зично╖
	пам'ят╕. Стовпчик ``всього''<A NAME="tex2html116"
 HREF="footnode.html#foot4750"><SUP>108</SUP></A> не в╕добража╓
	пам'ять, яка використову╓ться ядром, яка завжди приблизно
	дор╕вню╓ мегабайту. Стовпчик використано╖
	пам'ят╕<A NAME="tex2html117"
 HREF="footnode.html#foot4755"><SUP>109</SUP></A> показу╓ к╕льк╕сть пам'ят╕, що
	використову╓ться (другий рядок не раху╓ буфер╕в). ╤ стовчик
	в╕льно╖ пам'ят╕ показу╓ пам'ять, що не використову╓ться
	зовс╕м. Стовпчик ``shared'' вказу╓ об'╓м пам'ят╕, що сп╕льно
	використову╓ться к╕лькома процесами - чим б╕льше, тим
	краще. Стовпчик буфер╕в демонстру╓ розм╕р дискових буфер╕в на
	даний момент. 
	
	Останн╕й рядок (<code>Swap:</code>) показу╓ всю ту ж ╕нформац╕ю
	в╕дносно своп-простору. Якщо в цьому рядку стоять суц╕льн╕
	нул╕ - своп╕н╜ не приведено в д╕ю. 
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Ту ж саму ╕нформац╕ю можна отримати командою <TT>top</TT><A NAME="4761">&#160;</A> або
	подивившись файл <TT>/proc/meminfo</TT><A NAME="4763">&#160;</A> в файлов╕й систем╕
	<TT>proc</TT>. Поки що неможливо отримати ╕нформац╕ю про
	конкретне використання то╖ чи ╕ншо╖ д╕лянки своп-простору. 
	
	Припинити використання своп-простору можна командою
	<TT>swapoff</TT><A NAME="4765">&#160;</A>. Найчаст╕ше нема╓ потреби цього робити за
	виключенням тимчасових своп файл╕в. Вс╕ стор╕нки, що м╕стяться
	в даний час на дан╕й д╕лянц╕ своп простору спочатку будуть
	перенесен╕ в пам'ять. Якщо ф╕зично╖ пам'ят╕ не вистача╓ для
	цього, то система скине ц╕ стор╕нки на якусь ╕ншу д╕лянку
	свопу. Якщо ж в╕ртуально╖ пам'ят╕ не досить для того, щоб
	втримати вс╕ стор╕нки в пам'ят╕ система безк╕нечно перекидати
	стор╕нки пам'ят╕ туди-сюди, з диску в пам'ять ╕ з пам'ят╕
	знову на диск.  <A NAME="tex2html118"
 HREF="footnode.html#foot4766"><SUP>110</SUP></A>
	Через довгий пер╕од часу вона повинна в╕д╕йти, але на протяз╕
	цього часу в╕д системи не добитися н╕якого толку. Перш, н╕ж
	забирати у системи своп впевн╕ться, що систем╕ досить пам'ят╕,
	щоб вижити (за допомогою команди <TT>free</TT><A NAME="4772">&#160;</A>).
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Весь прост╕р своп╕н╜у, приведений в д╕ю командою
	<TT>swapon -a</TT>, так само можна деактив╕зувати одн╕╓ю
	командою <TT>swapoff -a</TT>. Вона шука╓ в файл╕
	<TT>/etc/fstab</TT><A NAME="4774">&#160;</A>, що потр╕бно деактив╕зувати. Весь
	своп-прост╕р, що було приведено в д╕ю вручну продовжуватиме
	працювати<A NAME="tex2html119"
 HREF="footnode.html#foot4787"><SUP>111</SUP></A>.
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">╤нколи, нав╕ть при величезному об'╓м╕ невикористано╖ ф╕зично╖
	пам'ят╕, своп пам'ять виявля╓ться зайнятою. Це трапля╓ться,
	якщо в якийсь момент деякий процес вимагав багато пам'ят╕ ╕
	стор╕нки пам'ят╕ виявилися скинутими на диск.  П╕сля
	того, як процес зак╕нчив свою роботу, т╕ стор╕нки, як╕ були
	скинут╕ в своп, так ╕ залишаються там без ╖х автоматично╖
	очистки, до того часу, поки зайнята ними пам'ять не знадобиться
	для ╕ншого процесу. Про це нема╓ зовс╕м н╕яко╖ причини
	турбуватися, але, якщо Ви про це зна╓те, у Вас може бути трохи
	спок╕йн╕ше на душ╕. 
</FONT></FONT>
<P>
<BR><HR>
<ADDRESS>
<I>Dmytro Kovalev</I>
<BR><I>1999-06-10</I>
</ADDRESS>
</BODY>
</HTML>
