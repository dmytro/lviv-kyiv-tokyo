<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.1 release (February 19th, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Старт системи зблизька</TITLE>
<META NAME="description" CONTENT="Старт системи зблизька">
<META NAME="keywords" CONTENT="linux,ukrainian,guide,sag">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL="STYLESHEET" HREF="sag.css">
<LINK REL="next" HREF="node75.html">
<LINK REL="previous" HREF="node73.html">
<LINK REL="up" HREF="node72.html">
<LINK REL="next" HREF="node75.html">
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<!--Navigation Panel-->
<A NAME="tex2html1401"
 HREF="node75.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="next_motif.gif"></A> 
<A NAME="tex2html1397"
 HREF="node72.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="up_motif.gif"></A> 
<A NAME="tex2html1391"
 HREF="node73.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="previous_motif.gif"></A> 
<A NAME="tex2html1399"
 HREF="node7.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="contents_motif.gif"></A> 
<A NAME="tex2html1400"
 HREF="node120.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index"
 SRC="index_motif.gif"></A> 
<BR>
<B> Дал╕:</B> <A NAME="tex2html1402"
 HREF="node75.html">Трохи б╕льше про вимкнення</A>
<B> Вгору:</B> <A NAME="tex2html1398"
 HREF="node72.html">Загрузка та вимкнення системи</A>
<B> Назад:</B> <A NAME="tex2html1392"
 HREF="node73.html">Огляд процес╕в старту та</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00820000000000000000">&#160;</A>
<A NAME="sec:boot-closeup">&#160;</A>
<BR>
Старт системи зблизька
</H1>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Л╕накс можна загрузити або ╕з гнучкого, або ╕з жорсткого
	диску<A NAME="tex2html131"
 HREF="footnode.html#foot5247"><SUP>123</SUP></A>. Розд╕л ``Установка'' в Пос╕бнику по установц╕ та перших
	кроках в Л╕накс╕ <A NAME="tex2html132"
 HREF="footnode.html#foot5258"><SUP>124</SUP></A> розкаже Вам, як зробити так,
	щоб Л╕накс грузився або зв╕дти, або зв╕дти.
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">П╕д час початкового старту комп'ютера BIOS викону╓
	р╕зноман╕тн╕ тести, перев╕ряючи, що з апаратурою все в
	порядку,<A NAME="tex2html133"
 HREF="footnode.html#foot5220"><SUP>125</SUP></A> ╕ п╕сля цього почина╓ справжню
	загрузку. В╕н вибере дисковий пристр╕й (в б╕льшост╕ випадк╕в -
	перший дисков╕д, якщо в нього вставлена дискета, якщо ж н╕ -
	то перший жорсткий диск, якщо такий встановлено в
	комп'ютер╕. ╤нколи порядок пошуку може зм╕нюватися.) ╕
	прочита╓ самий перший сектор цього диску. Цей сектор називають
	<B>загрузочним сектором</B><A NAME="tex2html134"
 HREF="footnode.html#foot5277"><SUP>126</SUP></A>, у
	в╕дношенн╕ до жорстких диск╕в цей сектор назива╓ться також
	<B>головним загрузочним сектором</B><A NAME="tex2html135"
 HREF="footnode.html#foot5283"><SUP>127</SUP></A>, оск╕льки на диску може бути к╕лька розд╕л╕в, ╕ кожен
	╕з розд╕л╕в ма╓ св╕й власний загрузочний сектор. 
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1"><A NAME="5087">&#160;</A>
<A NAME="5088">&#160;</A>
<A NAME="5089">&#160;</A>
<A NAME="5090">&#160;</A>
<A NAME="5221">&#160;</A>
<A NAME="5222">&#160;</A>
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">Загрузочний сектор м╕стить невелику програмку (малу наст╕льки,
	що вона може пом╕ститися в один сектор). В╕дпов╕дальн╕стю ц╕╓╖
	програмки ╓: прочитати операц╕йну систему з диску та
	стартувати ╖╖. При загрузц╕ Л╕накса з дискети, в загрузочному
	сектор╕ записана програма, яка просто-напросто чита╓ к╕лька
	сотень перших блок╕в (в залежност╕ в╕д справжнього розм╕ру
	ядра) в попередньо визначену д╕лянку пам'ят╕. Дуже часто на
	загрузочн╕й дискет╕ файлово╖ системи нема╓. Ядро просто
	запису╓ться в посл╕довност╕ сектор╕в. Це значно полегшу╓
	процес старту системи. Однак, можливо також вантажити Л╕накс з
	дискети з файловою системою, користуючись LILO (the LInux
	LOader)<A NAME="tex2html136"
 HREF="footnode.html#foot5288"><SUP>128</SUP></A>. <A NAME="tex2html137"
 HREF="footnode.html#foot5293"><SUP>129</SUP></A>
	
<A NAME="5095">&#160;</A>
<A NAME="5223">&#160;</A>
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">При загрузц╕ з жорсткого диску, код (програма) в головному
	загрузочному сектор╕ анал╕зу╓ таблицю розд╕л╕в диску (яка
	також знаходиться в головному загрузочному блоц╕) ╕ знаходить
	активний п╕дрозд╕л. Для того, щоб було зрозум╕ло, що з такого
	розд╕лу можна грузитися, в╕н познача╓ться спец╕альним
	прапорцем - б╕том. П╕сля цього код загрузчика з MBR чита╓
	загрузочний сектор активного розд╕лу ╕ переда╓ на нього
	керування процесору. Код в загрузочному сектор╕ активного
	розд╕лу робить те ж саме, що ╕ код в загрузочному сектор╕
	дискети: чита╓ ядро з диску та запуска╓ його на
	виконання. Звичайно ж, подробиц╕ старту в╕др╕зняються. Не ма╓
	н╕якого сенсу тримати на диску окремий розд╕л т╕льки для того,
	щоб тримати на ньому ядро. Тож, загручоний код в загрузочному
	сектор╕ диску не може просто читати все п╕дряд з посл╕довност╕
	сектор╕в. В╕н повинен спершу визначити де операц╕йна система
	розм╕стила ядро на диску. ╢ к╕лька р╕зних шлях╕в вир╕шення
	питання пошуку ядра на диску, але найб╕льш вживаний - це
	застосування LILO. (Подробиц╕ того, як саме це зробити,
	виходять за меж╕ тематики ц╕╓╖ дискус╕╖, отож див╕ться
	документац╕ю по LILO, щоб зрозум╕ти ц╕ процеси краще.)
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1"><A NAME="5097">&#160;</A>
<A NAME="5224">&#160;</A>
<A NAME="5099">&#160;</A>
<A NAME="5100">&#160;</A>
<A NAME="5101">&#160;</A>
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">При загрузц╕ комп'ютера з LILO, як правило, в╕н старту╓ Ваше
	``основне''(``робоче'') ядро. LILO можна сконф╕╜урувати так,
	що в╕н буде загружати ╕нш╕ ядра, або нав╕ть одну з к╕лькох
	оперативних систем. Кр╕м того, LILO да╓ користувачев╕ виб╕р
	того, яке ядро чи яку систему стартувати при дан╕й
	загрузц╕. LILO можна настро╖ти так, що при натисканн╕ клав╕ш
	<TT>alt</TT>, <TT>shift</TT>, чи <TT>ctrl</TT> п╕д час загрузки, в╕н
	зупиниться, утрима╓ться в╕д стандартно╖ загрузки ╕ спита╓ яку
	систему загрузити. Також LILO можна настро╖ти таким чином, що
	в╕н завжди буде зупинятися при загрузц╕ на  певний час
	щоб спитати, яку систему грузити. Якщо LILO не отрима╓
	в╕дпов╕д╕ на протяз╕ цього часу, то загрузить основне ядро.
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1">При використанн╕ LILO ядру системи також можна передавати 
	параметри з командного рядка. 
	
</FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1"><FONT SIZE="+1"><B>META: </B>╤снують також ╕нш╕ загрузчики окр╕м LILO. ╤нформац╕я про
	них буде додана п╕зн╕ше, в наступних верс╕ях. loadlin.
</FONT></FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1"><FONT SIZE="+1">Як загрузка з дискети, так ╕ загрузка з жорсткого диску мають
	як сво╖ плюси, так ╕ м╕нуси. Але загалом загрузка з жорсткого
	диску вигляда╓ набагато краще, оск╕льки можна позбутися цих
	дискет, як╕ будуть тягатися скр╕зь ╕ всюди. Кр╕м того - це
	швидше. Однак, ╕нколи можливо трохи важче встановити систему
	так, щоб вона загружалася з жорсткого диску. Тому багато хто
	спочатку загружають систему з дискетв. П╕сля того, як система
	в основному встановлена ╕ сконф╕╜урована, встановлюють LILO ╕
	починають грузитися з жорского диску.
</FONT></FONT></FONT>
<P>
<FONT SIZE="+1"><FONT SIZE="+1"><FONT SIZE="+1">Коли ядро системи вже прочитане в пам'ять системи,
	в╕дбува╓ться приблизно таке:
</FONT></FONT></FONT>
<P>
<FONT SIZE="+1"></FONT><UL>
<P>
<LI>
<P>
Ядро Л╕накса запису╓ться на диск стисненим
	(заарх╕вованим). Отже воно ма╓ бути розарх╕вованим
	спочатку. Початок ядра м╕стить невеличку програмку, яка
	викону╓ цю операц╕ю<A NAME="tex2html138"
 HREF="footnode.html#foot5299"><SUP>130</SUP></A>.

<P>
<A NAME="5107">&#160;</A>

<P>
<LI>
<P>
Якщо Ваша система ма╓ в╕деоплату типу cупер-VGA, то Л╕накс
	зможе це розп╕знати.  Тод╕ Л╕накс дасть можлив╕сть
	скористуватися спец╕альними текстовими режимами, такими, як,
	наприклад, 100 стовпчик╕в по 40 рядк╕в. В╕део режим екрану
	можна встановити п╕д час комп╕ляц╕╖ ядра. Тод╕ п╕д час старту
	ядро не буде задавати зайвих запитань. Кр╕м того цього ж можна
	добитися за допомогою LILO або <TT>rdev</TT><A NAME="5305">&#160;</A>.

<P>
<A NAME="5109">&#160;</A>
<A NAME="5110">&#160;</A>
<A NAME="5111">&#160;</A>
<A NAME="5112">&#160;</A>

<P>
<LI>
<P>
П╕сля цього ядро почина╓ перев╕ряти яке обладнання ма╓
	комп'ютер (жорстк╕ диски, приводи дискет, плати мереж╕...),
	та конф╕╜уру╓ деяк╕ з драйвер╕в знайдених пристро╖в
	в╕дпов╕дно. П╕д час цього на екран виводяться пов╕домлення про
	знах╕дки ядра. Наприклад, п╕д час загрузки на сво╓му екран╕ я
	бачу: 
<A NAME="5113">&#160;</A>
<A NAME="5114">&#160;</A>
<A NAME="5115">&#160;</A>
<A NAME="5116">&#160;</A>
		<BLOCKQUOTE>
<PRE>
LILO boot:
Loading linux.
Console: colour EGA+ 80x25, 8 virtual consoles
Serial driver version 3.94 with no serial options enabled
tty00 at 0x03f8 (irq = 4) is a 16450
tty01 at 0x02f8 (irq = 3) is a 16450
lp_init: lp1 exists (0), using polling driver
Memory: 7332k/8192k available (300k kernel code, 384k reserved, 176k data)
Floppy drive(s): fd0 is 1.44M, fd1 is 1.2M
Loopback device init
Warning WD8013 board not found at i/o = 280.
Math coprocessor using irq13 error reporting.
Partition check:
  hda: hda1 hda2 hda3
VFS: Mounted root (ext filesystem).
Linux version 0.99.pl9-1 (root@haven) 05/01/93 14:12:20
</PRE></BLOCKQUOTE>

<P>
Пов╕домлення на Вашому екран╕ будуть ╕ншими. Вони залежать в╕д
	обладнання, встановленого в систем╕, в╕д верс╕╖ Л╕накса та в╕д
	конф╕╜урац╕╖ системи.

<P>
<LI>
<P>
П╕сля цього ядро робить спробу змонтувати кореневу файлову
	систему. М╕сцезнаходження ╖╖ зада╓ться п╕д час комп╕лювання
	ядра, командою <TT>rdev</TT><A NAME="5307">&#160;</A> чи за допомогою LILO.  Тип файлово╖
	системи визнача╓ться автоматично. Якщо ядро не може змонтувати
	кореневу файлову систему (наприклад, з то╖ причини, що Ви
	забули включити драйвер дано╖ системи в ядро п╕д час його
	комп╕ляц╕╖), ядро пан╕ку╓ ╕ зупиня╓ систему (все одно йому
	нема чого робити).
<A NAME="5122">&#160;</A>
<A NAME="5123">&#160;</A>
<A NAME="5124">&#160;</A>
<A NAME="5125">&#160;</A>
<A NAME="5126">&#160;</A>
<A NAME="5127">&#160;</A>

<P>
Звичайно коренева файлова система монту╓ться в режими т╕льки
	читання  (це встановлю╓ться так само, як ╕ ╖╖ м╕сце). Це да╓
	можлив╕сть перев╕ряти файлову систему п╕д час монтування, бо
	не дуже гарно перев╕ряти файлову систему тод╕, коли вона
	змонтована на запис. 

<P>
<A NAME="5128">&#160;</A>
<A NAME="5129">&#160;</A>
<A NAME="5130">&#160;</A>

<P>
<LI>
<P>
П╕сля цього ядро старту╓ програму <TT>init</TT><A NAME="5309">&#160;</A>, яка знаходиться
	в <TT>/sbin/init</TT><A NAME="5311">&#160;</A>. <TT>init</TT><A NAME="5313">&#160;</A> запуска╓ться в фоновому
	режим╕<A NAME="tex2html139"
 HREF="footnode.html#foot5314"><SUP>131</SUP></A> ╕ завжди отриму╓ номер 1. <TT>init</TT><A NAME="5320">&#160;</A> викону╓ р╕зн╕ стартов╕
	функц╕╖. Що саме в╕н робить залежить в╕д його конф╕╜урац╕╖,
	див╕ться розд╕л&nbsp;<A HREF="node79.html#ch:init"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]"
 SRC="cross_ref_motif.gif"></A> (не написаний поки що). Як
	м╕н╕мум в╕н старту╓ деяк╕ важлив╕ демони.

<P>
<A NAME="5137">&#160;</A>

<P>
<LI>
<P>
П╕сля цього <TT>init</TT><A NAME="5322">&#160;</A> переходить в багато користувацький
	режим ╕ старту╓ <TT>getty</TT><A NAME="5324">&#160;</A> для в╕ртуальних консол╕в та
	посл╕довних порт╕в. Команда <TT>getty</TT><A NAME="5326">&#160;</A> - це програма, яка
	дозволя╓ користувачам ре╓струватися в систем╕, використовуючи
	при цьому в╕ртуальн╕ консол╕ або посл╕довн╕ порти. В
	залежност╕ в╕д того, як в╕н сконф╕╜ураваний <TT>init</TT><A NAME="5328">&#160;</A> може
	стартувати також ╕нш╕ програми.

<P>
<A NAME="5142">&#160;</A>
<A NAME="5143">&#160;</A>
<A NAME="5144">&#160;</A>
<A NAME="5145">&#160;</A>

<P>
<LI>
<P>
П╕сля цього вже загрузка системи зак╕нчена ╕ система працю╓ в
	сво╓му нормальному режим╕. 

<P>
</UL><FONT SIZE="+1"></FONT>
<P>
<FONT SIZE="+1"></FONT><HR>
<!--Navigation Panel-->
<A NAME="tex2html1401"
 HREF="node75.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="next_motif.gif"></A> 
<A NAME="tex2html1397"
 HREF="node72.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="up_motif.gif"></A> 
<A NAME="tex2html1391"
 HREF="node73.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="previous_motif.gif"></A> 
<A NAME="tex2html1399"
 HREF="node7.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="contents_motif.gif"></A> 
<A NAME="tex2html1400"
 HREF="node120.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index"
 SRC="index_motif.gif"></A> 
<BR>
<B> Дал╕:</B> <A NAME="tex2html1402"
 HREF="node75.html">Трохи б╕льше про вимкнення</A>
<B> Вгору:</B> <A NAME="tex2html1398"
 HREF="node72.html">Загрузка та вимкнення системи</A>
<B> Назад:</B> <A NAME="tex2html1392"
 HREF="node73.html">Огляд процес╕в старту та</A>
<!--End of Navigation Panel-->
<ADDRESS>
<I>Dmytro Kovalev</I>
<BR><I>1999-06-10</I>
</ADDRESS>
</BODY>
</HTML>
